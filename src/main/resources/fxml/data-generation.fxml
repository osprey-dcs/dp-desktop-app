<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/17.0.2-ea" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.ospreydcs.dp.gui.DataGenerationController" styleClass="content-pane">
   <top>
      <VBox styleClass="view-container">
         <Label styleClass="section-header" text="Generate Time-Series Data" />
         <Label styleClass="app-description" text="Configure provider details, request parameters, and process variables to generate sample data for ingestion." />
      </VBox>
   </top>
   
   <center>
      <ScrollPane fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED">
         <VBox spacing="20" styleClass="view-container">
            
            <!-- Provider Details Section -->
            <VBox styleClass="form-container">
               <Label styleClass="section-header" text="Provider Details" />
               <GridPane hgap="10" vgap="10">
                  <columnConstraints>
                     <ColumnConstraints minWidth="120" prefWidth="120" />
                     <ColumnConstraints hgrow="ALWAYS" />
                  </columnConstraints>
                  
                  <Label text="Name: *" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                  <TextField fx:id="providerNameField" promptText="Provider name" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                  
                  <Label text="Description:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                  <TextArea fx:id="providerDescriptionArea" prefRowCount="2" promptText="Provider description" wrapText="true" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                  
                  <com.ospreydcs.dp.gui.component.TagsListComponent fx:id="providerTagsComponent" labelText="Provider Tags:" GridPane.columnIndex="0" GridPane.columnSpan="2" GridPane.rowIndex="2" />
                  
                  <com.ospreydcs.dp.gui.component.AttributesListComponent fx:id="providerAttributesComponent" labelText="Provider Attributes:" GridPane.columnIndex="0" GridPane.columnSpan="2" GridPane.rowIndex="3" />
               </GridPane>
            </VBox>
            
            <!-- Request Details Section -->
            <VBox styleClass="form-container">
               <Label styleClass="section-header" text="Request Details" />
               <GridPane hgap="10" vgap="10">
                  <columnConstraints>
                     <ColumnConstraints minWidth="160" prefWidth="160" />
                     <ColumnConstraints hgrow="ALWAYS" />
                  </columnConstraints>
                  
                  <com.ospreydcs.dp.gui.component.TagsListComponent fx:id="requestTagsComponent" labelText="Data Tags:" GridPane.columnIndex="0" GridPane.columnSpan="2" GridPane.rowIndex="0" />
                  
                  <com.ospreydcs.dp.gui.component.AttributesListComponent fx:id="requestAttributesComponent" labelText="Data Attributes:" GridPane.columnIndex="0" GridPane.columnSpan="2" GridPane.rowIndex="1" />
                  
                  <Label text="Event Name:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                  <TextField fx:id="eventNameField" promptText="Enter event name" GridPane.columnIndex="1" GridPane.rowIndex="2" />
               </GridPane>
            </VBox>
            
            <!-- Generation Details Section -->
            <VBox styleClass="form-container">
               <Label styleClass="section-header" text="Generation Details" />
               <GridPane hgap="10" vgap="10">
                  <columnConstraints>
                     <ColumnConstraints minWidth="160" prefWidth="160" />
                     <ColumnConstraints hgrow="ALWAYS" />
                  </columnConstraints>
                  
                  <Label text="Data Begin Date: *" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                  <DatePicker fx:id="dataBeginDatePicker" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                  
                  <Label text="Begin Time: *" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                  <HBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="1">
                     <Spinner fx:id="beginHourSpinner" editable="true" prefWidth="80">
                        <valueFactory>
                           <SpinnerValueFactory.IntegerSpinnerValueFactory initialValue="0" max="23" min="0" />
                        </valueFactory>
                     </Spinner>
                     <Label text=":" />
                     <Spinner fx:id="beginMinuteSpinner" editable="true" prefWidth="80">
                        <valueFactory>
                           <SpinnerValueFactory.IntegerSpinnerValueFactory initialValue="0" max="59" min="0" />
                        </valueFactory>
                     </Spinner>
                     <Label text=":" />
                     <Spinner fx:id="beginSecondSpinner" editable="true" prefWidth="80">
                        <valueFactory>
                           <SpinnerValueFactory.IntegerSpinnerValueFactory initialValue="0" max="59" min="0" />
                        </valueFactory>
                     </Spinner>
                  </HBox>
                  
                  <Label text="Data End Date: *" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                  <DatePicker fx:id="dataEndDatePicker" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                  
                  <Label text="End Time: *" GridPane.columnIndex="0" GridPane.rowIndex="3" />
                  <HBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="3">
                     <Spinner fx:id="endHourSpinner" editable="true" prefWidth="80">
                        <valueFactory>
                           <SpinnerValueFactory.IntegerSpinnerValueFactory initialValue="0" max="23" min="0" />
                        </valueFactory>
                     </Spinner>
                     <Label text=":" />
                     <Spinner fx:id="endMinuteSpinner" editable="true" prefWidth="80">
                        <valueFactory>
                           <SpinnerValueFactory.IntegerSpinnerValueFactory initialValue="0" max="59" min="0" />
                        </valueFactory>
                     </Spinner>
                     <Label text=":" />
                     <Spinner fx:id="endSecondSpinner" editable="true" prefWidth="80">
                        <valueFactory>
                           <SpinnerValueFactory.IntegerSpinnerValueFactory initialValue="0" max="59" min="0" />
                        </valueFactory>
                     </Spinner>
                  </HBox>
               </GridPane>
               
               <!-- Process Variables Section -->
               <VBox spacing="10" styleClass="form-container">
                  <Label text="Process Variables (PVs): *" />
                  
                  <!-- Main PV Section with List and Entry Panel side by side -->
                  <HBox spacing="20">
                     <!-- Left side: PV List -->
                     <VBox HBox.hgrow="ALWAYS">
                        <ListView fx:id="pvDetailsList" minHeight="200" prefHeight="250" />
                     </VBox>
                     
                     <!-- Right side: PV Detail Entry Panel -->
                     <VBox fx:id="pvDetailEntryPanel" spacing="10" styleClass="form-container" prefWidth="400" minWidth="350">
                        <Label text="Add Process Variable" />
                        <GridPane hgap="10" vgap="10">
                           <columnConstraints>
                              <ColumnConstraints minWidth="180" prefWidth="180" />
                              <ColumnConstraints hgrow="ALWAYS" />
                           </columnConstraints>
                           
                           <Label text="PV Name: *" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                           <TextField fx:id="pvNameField" promptText="Process variable name" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                           
                           <Label text="Data Type: *" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                           <ComboBox fx:id="pvDataTypeCombo" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                           
                           <Label text="Values per Second: *" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                           <ComboBox fx:id="pvValuesPerSecondCombo" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                           
                           <Label text="Initial Value: *" GridPane.columnIndex="0" GridPane.rowIndex="3" />
                           <TextField fx:id="pvInitialValueField" promptText="Initial value" GridPane.columnIndex="1" GridPane.rowIndex="3" />
                           
                           <Label text="Max Step Magnitude: *" GridPane.columnIndex="0" GridPane.rowIndex="4" />
                           <TextField fx:id="pvMaxStepField" promptText="Maximum step size" GridPane.columnIndex="1" GridPane.rowIndex="4" />
                        </GridPane>
                     </VBox>
                  </HBox>
               </VBox>
            </VBox>
         </VBox>
      </ScrollPane>
   </center>
   
   <bottom>
      <HBox alignment="CENTER_RIGHT" spacing="10" styleClass="status-bar">
         <Button fx:id="generateButton" onAction="#onGenerate" styleClass="btn-primary" text="Generate" />
         <Button fx:id="cancelButton" onAction="#onCancel" styleClass="btn-secondary" text="Cancel" />
      </HBox>
   </bottom>
</BorderPane>